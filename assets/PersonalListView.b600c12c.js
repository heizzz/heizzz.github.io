import{_ as m}from"./DiffListItem.50198d85.js";import{B as d}from"./backend.aee7b34f.js";import{_,u as p,r as g,o as n,c as a,a as l,b as r,d as e,F as h,e as x}from"./index.72084a3a.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";const L={components:{DiffListItem:m,MessageBox:_},data(){return{songList:[],language:1,loading:!0,loadingList:!0,diffNames:["EASY","NORMAL","HARD","EXPERT","SPECIAL"],nextPage:0,items:[]}},created(){this.fetchData()},methods:{fetchData(){const s=p();if(s.token==null){s.setMessage("You must be logged in to use this feature!"),this.$router.push("/");return}this.loading=!0,d.getSongList().then(o=>{this.songList=o,this.loading=!1,this.fetchList()})},fetchList(){this.loadingList=!0,d.getMyTierList().then(s=>{if(s.success)s.data.forEach(o=>{this.items.push({songId:o.id,difficultyId:o.difficulty,globalRating:null,myRating:o.rating})}),this.loadingList=!1;else{userStore.setMessage(s.errors),router.push("/");return}})}}},I={class:"container px-4 py-6 mx-auto"},b={key:1,class:"max-w-4xl mx-auto bg-slate-800 py-4 px-8 rounded space-y-4"},R=e("div",{class:"text-center text-2xl font-semibold"},"My Song List",-1),k={class:"table border-collapse text-center mx-auto border border-slate-500"},M=e("thead",{class:"bg-slate-600"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-2 text-left w-full"},"Title"),e("th",{scope:"col",class:"px-4 py-2",title:"Official difficulty rating"},"R"),e("th",{scope:"col",class:"px-4 py-2",title:"My difficulty rating"},"MR")])],-1);function B(s,o,v,S,t,w){const c=g("MessageBox"),u=g("DiffListItem");return n(),a("div",I,[t.loading?(n(),l(c,{key:0,message:"Loading song data...",class:"max-w-2xl mx-auto"},null,8,["message"])):r("",!0),t.songList?(n(),a("div",b,[R,e("table",k,[M,e("tbody",null,[(n(!0),a(h,null,x(t.items,(i,f)=>(n(),l(u,{songTitle:t.songList[i.songId].title[t.language]||t.songList[i.songId].title[0],songId:i.songId,difficultyLevel:t.songList[i.songId].difficulties[i.difficultyId],difficultyId:i.difficultyId,hideGlobalRating:!0,rank:f,hideRanking:!0,myRating:i.myRating},null,8,["songTitle","songId","difficultyLevel","difficultyId","rank","myRating"]))),256))])]),t.loadingList?(n(),l(c,{key:0,message:"Loading personal data...",class:"max-w-xl mx-auto"},null,8,["message"])):r("",!0)])):r("",!0)])}var A=y(L,[["render",B]]);export{A as default};
