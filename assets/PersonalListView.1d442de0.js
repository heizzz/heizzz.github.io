import{_ as h}from"./DiffListItem.5e414bad.js";import{B as u}from"./backend.9f2e7ca8.js";import{_ as m,u as p,r,o as s,c as a,a as c,b as l,d as i,F as y,e as x,f as L,w as k,g as I}from"./index.47e535b2.js";import{_ as b}from"./plugin-vue_export-helper.21dcd24c.js";const R={components:{DiffListItem:h,MessageBox:m},data(){return{songList:[],language:1,loading:!0,loadingList:!0,diffNames:["EASY","NORMAL","HARD","EXPERT","SPECIAL"],nextPage:0,items:[]}},created(){this.fetchData()},methods:{fetchData(){const e=p();if(e.token==null){e.setMessage("You must be logged in to use this feature!"),this.$router.push("/");return}this.loading=!0,u.getSongList().then(n=>{this.songList=n,this.loading=!1,this.fetchList()})},fetchList(){this.loadingList=!0,u.getMyTierList().then(e=>{if(e.success)e.data&&e.data.forEach(n=>{this.items.push({songId:n.id,difficultyId:n.difficulty,globalRating:null,myRating:n.rating})}),this.loadingList=!1;else{userStore.setMessage(e.errors),router.push("/");return}})}}},v={class:"container px-4 py-6 mx-auto"},M={key:1,class:"max-w-4xl mx-auto bg-slate-800 py-4 px-8 rounded space-y-4"},w=i("div",{class:"text-center text-2xl font-semibold"},"My Song List",-1),B={key:0,class:"table border-collapse text-center mx-auto border border-slate-500"},S=i("thead",{class:"bg-slate-600"},[i("tr",null,[i("th",{scope:"col",class:"px-4 py-2 text-left w-full"},"Title"),i("th",{scope:"col",class:"px-4 py-2",title:"Official difficulty rating"},"R"),i("th",{scope:"col",class:"px-4 py-2",title:"My difficulty rating"},"MR")])],-1),D={key:2,class:"text-center"},E=I("You have not rated any songs yet. Songs you have rated will appear in this list.");function N(e,n,T,V,t,P){const d=r("MessageBox"),g=r("DiffListItem"),f=r("RouterLink");return s(),a("div",v,[t.loading?(s(),c(d,{key:0,message:"Loading song data...",class:"max-w-2xl mx-auto"},null,8,["message"])):l("",!0),t.songList?(s(),a("div",M,[w,t.items.length>0?(s(),a("table",B,[S,i("tbody",null,[(s(!0),a(y,null,x(t.items,(o,_)=>(s(),c(g,{songTitle:t.songList[o.songId].title[t.language]||t.songList[o.songId].title[0],songId:o.songId,difficultyLevel:t.songList[o.songId].difficulties[o.difficultyId],difficultyId:o.difficultyId,hideGlobalRating:!0,rank:_,hideRanking:!0,myRating:o.myRating},null,8,["songTitle","songId","difficultyLevel","difficultyId","rank","myRating"]))),256))])])):l("",!0),t.loadingList?(s(),c(d,{key:1,message:"Loading personal data...",class:"max-w-xl mx-auto"},null,8,["message"])):l("",!0),!t.loadingList&&t.items.length==0?(s(),a("div",D,[L(f,{to:"/rate",class:"text-sky-200 hover:text-blue-400"},{default:k(()=>[E]),_:1})])):l("",!0)])):l("",!0)])}var O=b(R,[["render",N]]);export{O as default};
