import{j as o,u as _,o as r,c as t,d as e,f as k,_ as E,t as b,b as w,h as p,i as v,k as P}from"./index.47e535b2.js";import{B as V}from"./backend.9f2e7ca8.js";const U={class:"container px-4 py-6 mx-auto"},B={class:"max-w-4xl mx-auto bg-slate-800 py-4 px-40 rounded space-y-4"},C=e("div",{class:"text-center text-2xl font-semibold"},"Register an Account",-1),N=e("label",{for:"email"},"Email",-1),R={key:0,class:"text-red-500 float-right"},S=e("label",{for:"username"},"Username",-1),D={key:0,class:"text-red-500 float-right"},M=e("label",{for:"password"},"Password",-1),$={key:0,class:"text-red-500 float-right"},j=e("label",{for:"confirmPassword"},"Confirm Password",-1),A={key:0,class:"text-center block w-full max-w-md mx-auto px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-500 focus:ring-sky-500 focus:ring-1"},z={name:"RegisterView",setup(L){const d=o(""),i=o(""),n=o(""),g=o(""),c=o(""),m=o(""),u=o(""),h=o(""),f=o(!1),x=_();function y(){f.value=!0,c.value="",m.value="",u.value="";let l=!0;if(d.value.length===0&&(c.value="Email is empty",l=!1),i.value.length<5&&(m.value="Username is too short",l=!1),n.value.length<8?(u.value="Password is too short",l=!1):n.value!==g.value&&(u.value="Password does not match",l=!1),!l){f.value=!1;return}V.register(d.value,i.value,n.value).then(s=>{f.value=!1,s.success?(x.setMessage(`Logged in as ${x.username}`),P.push("/")):h.value=s.errors})}return(l,s)=>(r(),t("div",U,[e("div",B,[C,k(E,{message:h.value},null,8,["message"]),e("div",null,[N,c.value?(r(),t("span",R,b(c.value),1)):w("",!0),p(e("input",{type:"email",id:"email",name:"email",placeholder:"Enter email","onUpdate:modelValue":s[0]||(s[0]=a=>d.value=a),class:"w-full bg-slate-800 rounded-md py-2 px-2 shadow-sm focus:outline-none border border-slate-500 focus:bg-slate-700 focus:ring-sky-500 focus:ring-1"},null,512),[[v,d.value]])]),e("div",null,[S,m.value?(r(),t("span",D,b(m.value),1)):w("",!0),p(e("input",{type:"text",id:"username",name:"username",placeholder:"Enter username","onUpdate:modelValue":s[1]||(s[1]=a=>i.value=a),class:"w-full bg-slate-800 rounded-md py-2 px-2 shadow-sm focus:outline-none border border-slate-500 focus:bg-slate-700 focus:ring-sky-500 focus:ring-1"},null,512),[[v,i.value]])]),e("div",null,[M,u.value?(r(),t("span",$,b(u.value),1)):w("",!0),p(e("input",{type:"password",id:"password",name:"password",placeholder:"Enter password","onUpdate:modelValue":s[2]||(s[2]=a=>n.value=a),class:"w-full bg-slate-800 rounded-md py-2 px-2 shadow-sm focus:outline-none border border-slate-500 focus:bg-slate-700 focus:ring-sky-500 focus:ring-1"},null,512),[[v,n.value]])]),e("div",null,[j,p(e("input",{type:"password",id:"confirmPassword",name:"confirmPassword",placeholder:"Enter password","onUpdate:modelValue":s[3]||(s[3]=a=>g.value=a),class:"w-full bg-slate-800 rounded-md py-2 px-2 shadow-sm focus:outline-none border border-slate-500 focus:bg-slate-700 focus:ring-sky-500 focus:ring-1"},null,512),[[v,g.value]])]),f.value?(r(),t("div",A,"Processing... ")):(r(),t("button",{key:1,onClick:y,class:"block w-full max-w-md mx-auto py-2 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-500 focus:ring-sky-500 focus:ring-1"},"Register"))])]))}};export{z as default};
