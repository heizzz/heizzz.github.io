import{B as g}from"./backend.9f2e7ca8.js";import{u as f,_ as h,r as w,o as t,c as l,d as o,f as x,t as n,b as d,h as c,i as p}from"./index.47e535b2.js";import{_ as b}from"./plugin-vue_export-helper.21dcd24c.js";const u=f(),_={components:{MessageBox:h},data(){return{email:"",password:"",emailError:"",passwordError:"",error:"",processing:!1}},methods:{login(){this.processing=!0,this.emailError="",this.passwordError="";let a=!0;if(this.email.length===0&&(this.emailError="Email is empty",a=!1),this.password.length<8&&(this.passwordError="Password is too short",a=!1),!a){this.processing=!1;return}g.login(this.email,this.password).then(e=>{this.processing=!1,e.success?(u.setMessage(`Logged in as ${u.username}`),this.$router.push("/")):this.error=e.errors})}}},y={class:"container px-4 py-6 mx-auto"},E={class:"max-w-4xl mx-auto bg-slate-800 py-4 px-40 rounded space-y-4"},k=o("div",{class:"text-center text-2xl font-semibold"},"Log In",-1),v=o("label",{for:"email"},"Email",-1),B={key:0,class:"text-red-500 float-right"},V=o("label",{for:"password"},"Password",-1),M={key:0,class:"text-red-500 float-right"},L={key:0,class:"text-center block w-full max-w-md mx-auto px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-500 focus:ring-sky-500 focus:ring-1"};function C(a,e,N,P,s,i){const m=w("MessageBox");return t(),l("div",y,[o("div",E,[k,x(m,{message:s.error},null,8,["message"]),o("div",null,[v,s.emailError?(t(),l("span",B,n(s.emailError),1)):d("",!0),c(o("input",{type:"email",id:"email",name:"email",placeholder:"Enter email","onUpdate:modelValue":e[0]||(e[0]=r=>s.email=r),class:"w-full bg-slate-800 rounded-md py-2 px-2 shadow-sm focus:outline-none border border-slate-500 focus:bg-slate-700 focus:ring-sky-500 focus:ring-1"},null,512),[[p,s.email]])]),o("div",null,[V,s.passwordError?(t(),l("span",M,n(s.passwordError),1)):d("",!0),c(o("input",{type:"password",id:"password",name:"password",placeholder:"Enter password","onUpdate:modelValue":e[1]||(e[1]=r=>s.password=r),class:"w-full bg-slate-800 rounded-md py-2 px-2 shadow-sm focus:outline-none border border-slate-500 focus:bg-slate-700 focus:ring-sky-500 focus:ring-1"},null,512),[[p,s.password]])]),s.processing?(t(),l("div",L,"Processing... ")):(t(),l("button",{key:1,onClick:e[2]||(e[2]=(...r)=>i.login&&i.login(...r)),class:"block w-full max-w-md mx-auto py-2 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-500 focus:ring-sky-500 focus:ring-1"},"Log In"))])])}var I=b(_,[["render",C]]);export{I as default};
